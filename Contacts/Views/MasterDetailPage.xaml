<Page
    x:Class="Contacts.Views.MasterDetailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Contacts"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="using:Contacts.Models"
    xmlns:uwpkit="using:Microsoft.Toolkit.Uwp.UI.Controls" 
    xmlns:Tools="using:Microsoft.Toolkit.Uwp.UI.Controls" 
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <SplitView DisplayMode="Inline" IsPaneOpen="True">
        <SplitView.Pane>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Margin="0,15,0,15" Text="Contacts" HorizontalAlignment="Center" FontSize="30"/>
                <ListView Grid.Row="1" ItemsSource="{x:Bind ViewModel.Contacts}" SelectedItem="{x:Bind ViewModel.SelectedContact,Mode=TwoWay}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="model:Contact">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Tools:ImageEx Height="100"
                                               Width="100"
                                               CornerRadius="999"
                                               Source="{x:Bind PathToImage}"/>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{x:Bind FirstName}" FontSize="18"/>
                                    <TextBlock Text="{x:Bind LastName}"/>
                                </StackPanel>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </SplitView.Pane>
        <Grid>
            <ScrollViewer VerticalScrollMode="Auto">
                <StackPanel Margin="24">
                    <StackPanel Orientation="Horizontal" Margin="0,10,10,10">
                        <TextBlock FontSize="32" Text="{x:Bind ViewModel.SelectedContact.FirstName,Mode=TwoWay}" FontWeight="Bold" Margin="0,0,10,0"/>
                        <TextBlock FontSize="32" Text="{x:Bind ViewModel.SelectedContact.LastName,Mode=TwoWay}" FontWeight="Bold"/>
                    </StackPanel>
                    <uwpkit:ImageEx Height="360" Width="360" Source="{x:Bind ViewModel.SelectedContact.PathToImage,Mode=TwoWay}"
                                          Stretch="Fill" 
                                          IsCacheEnabled="True"
                                          CornerRadius="4" 
                                          BorderThickness="1" BorderBrush="DimGray" 
                                          HorizontalContentAlignment="Stretch" 
                                          VerticalContentAlignment="Stretch" HorizontalAlignment="Left"/>
                    <uwpkit:HeaderedTextBlock Text="{x:Bind ViewModel.SelectedContact.Notes,Mode=TwoWay}"
                                        Header="Notes"
                                        FontSize="20" 
                                        Orientation="Vertical"
                                        Margin="0,10,0,0" />
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </SplitView>
</Page>
